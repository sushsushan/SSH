#!/bin/bash

# Define colors
RED='\033[1;31m'
GREEN='\033[1;32m'
YELLOW='\033[1;33m'
BLUE='\033[1;34m'
MAGENTA='\033[1;35m'
CYAN='\033[1;36m'
NC='\033[0m' # No color

# Fetch domain data using uapi
uapi DomainInfo domains_data > domains_output.txt

# Extract domain type counts
main_domains=$(grep -i 'type: main' domains_output.txt | wc -l)
addon_domains=$(grep -i 'type: addon' domains_output.txt | wc -l)
sub_domains=$(grep -i 'type: sub' domains_output.txt | wc -l)
parked_domains=$(grep -i 'type: parked' domains_output.txt | wc -l)

# Print table header
echo -e "${CYAN}-----------------------------------------${NC}"
echo -e "${CYAN}| Domain Type      | Count              |${NC}"
echo -e "${CYAN}-----------------------------------------${NC}"

# Print table rows
printf "| %-15s | ${GREEN}%-17s${NC} |\n" "Main Domains" "$main_domains"
printf "| %-15s | ${BLUE}%-17s${NC} |\n" "Addon Domains" "$addon_domains"
printf "| %-15s | ${YELLOW}%-17s${NC} |\n" "Subdomains" "$sub_domains"
printf "| %-15s | ${MAGENTA}%-17s${NC} |\n" "Parked Domains" "$parked_domains"

# Print table footer
echo -e "${CYAN}-----------------------------------------${NC}"
